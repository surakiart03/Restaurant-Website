=== Site Reviews ===
Contributors: geminilabs, pryley
Donate link: https://www.paypal.me/pryley
Tags: reviews, ratings, testimonials, woocommerce, product reviews
Tested up to: 5.6
Requires at least: 5.5
Requires PHP: 5.6
Stable tag: 5.7.4
License: GPLv3
License URI: https://www.gnu.org/licenses/gpl-2.0.html

Site Reviews allows you to easily receive and display reviews for your website, business, or products.

== Description ==

Site Reviews allows your visitors to submit reviews with a 1-5 star rating on your website, similar to the way you would on TripAdvisor or Yelp. The plugin provides blocks, shortcodes, and widgets, along with full documentation.

You can pin your best reviews so that they are always shown first, require approval before new review submissions are published, require visitors to be logged-in in order to write a review, send custom notifications on a new submission, and much more.

__Site Reviews provides full Woocommerce integration__ with the free [Woocommerce Reviews](https://niftyplugins.com/plugins/woocommerce-reviews/) add-on.

[Follow plugin development on Github.](https://github.com/pryley/site-reviews/)

### Current Features

- __Actively Developed and Supported__
- __Asian Language Support__
- __Assign Reviews to Categories__: Add your own categories and assign reviews to them.
- __Assign Reviews to Pages__: Assign reviews to Posts, Pages, and Custom Post Types like Woocommerce Products.
- __Assign Reviews to Users__: Assign reviews to Users on your website.
- __Avatars__: Provided by the WordPress Gravatar service
- __Backup and Restore__: Export/Import your settings and custom translations, and use the WordPress Export and Import tools to backup your reviews.
- __Bayesian Ranking__: Easily sort pages with assigned reviews by rank (using the bayesian algorithm) in your custom WP_Query
- __Blacklist__: Block review submissions which contain specific words, phrases, IP addresses, names, and emails
- __Developer Friendly__: Designed for WordPress developers with over 100 hooks and convenient functions
- __Documentation__: FAQ and documenation for hooks and all shortcodes and functions
- __Editor Blocks__: Use the custom editor blocks in the Gutenberg editor
- __Form Styles__: Match the review form with popular themes and form plugins
- __Import Third-Party Reviews__: Includes a built-in CSV importer
- __JSON-LD Schema__: Display your reviews and ratings in search results
- __Members Only__: Require users to be logged in before submitting a review
- __Multilingual__: Integrates with Polylang and WPML
- __Multisite Support__: Fully supports network/multisite websites
- __Notifications__: Send notifications to one or more emails when a review is submitted
- __Pagination__: Display a set number of reviews per-page with AJAX
- __Premium Support__: Free premium-level support included on the WordPress.org support forum
- __Privacy__: Integrates with the WordPress privacy tools
- __Rating Summaries__: Display a summary of your review ratings from high to low.
- __Relative Dates__: You decide the date format that is displayed in your reviews
- __Responses__: Write responses to your reviews
- __Restrictions__: Require approval before publishing reviews and limit review submissions by email address, IP address, or username
- __Shortcodes__: Configurable shortcodes complete with full documentation
- __Slack Integration__: Receive notifications in Slack when a review is submitted
- __SPAM Protection__: Includes 5 layers of protection from spam! Built-in Honeypot protection; Invisible reCAPTCHA, Akismet, Blacklist, and Review limits
- __Templates__: Use the Site Reviews templates in your theme for full control over the HTML
- __Translations__: Easily change any text of the plugin to your own
- __Widgets__: Use the configurable widgets in your sidebars.

### Site Reviews Add-ons

Site Reviews provides a ton of absolutely free features, possibly more than any other review plugin! But when those features are not enough, Site Reviews provides additional features (both free and premium) through add-ons. Current add-ons include:

- __[Review Forms](https://niftyplugins.com/plugins/site-reviews-forms/) (premium)__: Create custom review forms with over 20 field types and individual review templates.
- __[Review Filters](https://niftyplugins.com/plugins/site-reviews-filters/) (premium)__: Sort, filter, and search your reviews.
- __[Review Images](https://niftyplugins.com/plugins/site-reviews-images/) (premium)__: Add images with captions to your reviews.
- __[Trustalyze Confidence System](https://niftyplugins.com/plugins/trustalyze/) (free)__: Integrate with the Trustalyze Confidence System and post reviews on the blockchain.
- __[Woocommerce Reviews](https://niftyplugins.com/plugins/woocommerce-reviews/) (free)__: Integrate Site Reviews with your Woocommerce products.

### Site Reviews Premium

[Site Reviews Premium](https://niftyplugins.com/plugins/site-reviews-premium/) provides access to all of our free and premium add-ons, and automatically includes access to future add-ons as they are released.

### Attribution

Images adapted from [freepik](https://www.freepik.com).

== Installation ==

= Minimum plugin requirements =

- WordPress 5.5.0
- PHP 5.6.20

If your server and website does not meet the minimum requirements shown below, the plugin will automatically deactivate and a notice will appear explaining why.

= Automatic installation =

Log in to your WordPress dashboard, navigate to the Plugins menu and click "Add New". In the search field type "Site Reviews" and click Search Plugins. Once you have found the plugin, click "Install Now".

= Manual installation =

Download the Site Reviews plugin and upload it to your server with your favorite FTP application. The WordPress codex contains [instructions on how to do this here](https://codex.wordpress.org/Managing_Plugins#Manual_Plugin_Installation).

== Frequently Asked Questions ==

= How do I use Site Reviews? =
Use the provided shortcodes, widgets, and blocks on your website. Please also see the screenshots above which demontrate many of the features, and read the Help page included in the Site Reviews menu once the plugin has been installed and activated.

= I need help with something else =
All documentation can be found in the "Help" page of the plugin. If your question is not answered there, please create a new topic in the [WordPress support forum](https://wordpress.org/support/plugin/site-reviews/).

## Screenshots

1. The "All Reviews" page.

2. The "Edit Review" page.

3. Site Reviews has full support for the new Blocks Editor and includes custom blocks for each of the shortcodes.

4. If you are still using the Classic page editor, you can use the Site Reviews  dropdown button to easily add any of the shortcodes.

5. Site Reviews includes three widgets.

6. Site Reviews includes a Help page with answers to frequently asked questions and complete documentation for all available shortcode options.

7. The "General" settings page.

8. The "Reviews" settings page.

9. The "Submissions" settings page.

10. The "Schema" settings page.

11. Easily add a custom translation for any text in the plugin.

12. Export/import the plugin settings, and perform various other tasks.

13. If you experience any issues with the plugin, the console logger is the first pace to look.

14. View information about the configuration of your server, your website, and the Site Reviews plugin.

15. This is what the Slack notifications look like.

## Changelog

= 5.7.4 (2021-03-02) =

- Fixed review star CSS

= 5.7.3 (2021-02-24) =

- Fixed compatibility with Elementor Pro popups
- Fixed compatibility with SG Optimiser
- Fixed compatibility with WPForms
- Fixed the toggle alignment in the "Minimal" plugin style
- Fixed validation event listeners

= 5.7.2 (2021-02-18) =

- Fixed support for PHP compiled without a built-in ctype extension (i.e. FreeBSD servers)

= 5.7.0 (2021-02-16) =

- Added a custom Event Emitter which will allow you to manually initialise the Site Reviews javascript after the DOMContentLoaded event has fired or from Popup events (see: [EVENTS.md](https://github.com/pryley/site-reviews/blob/master/EVENTS.md).
- Added documentation on troubleshooting problems with the review form (see the "Common Problems and Solutions" section on the Help page).
- Added the "Optimise Your Database Tables" tool which allows you to convert tables from MyISAM to InnoDB for better performance.
- Improved the excerpt and pagination scripts.

= 5.6.2 (2021-02-09) =

- Added the "Review Themes" add-on, premium members may request early access to try out the beta.
- Fixed the FAQ for hiding the form after submission.

= 5.6.1 (2021-02-05) =

- Fixed the star rating field on touch devices

= 5.6.0 (2021-02-04) =

- Added an option to display excerpted reviews in a modal
- Fixed assigned ranking meta when reviews are manually approved/unapproved
- Fixed imported reviews losing their submission date when approved/unapproved
- Fixed incorrect triggering of the rating validation after a form submission
- Fixed translation bug with htmlentities
- Fixed paragraph word wrapping in reviews

= 5.5.2 (2021-01-29) =

- Fixed browser support for star-ratings.js

= 5.5.1 (2021-01-26) =

- Added the missing "What's New" sections

= 5.5.0 (2021-01-26) =

- Added "data-field" attribute to form fields; this should make it easier to build custom CSS layouts
- Added "date", "user__in", and "user__not_in" parameters to the glsr_get_reviews() function
- Added glsr_trace() helper function
- Added plugin style for the "Twenty Twenty-One" theme
- Added "Restrict Limits To" setting which allows you to choose which assignments are used in the review limits.
- Added sub-sections for add-on settings
- Changed the "site-reviews/review/build/<tag>" hooks to "site-reviews/review/build/tag/<tag>"
- Fixed CSV importing when header values contain trailing spaces
- Fixed email and IP address review limits to include all reviews (not just approved reviews)
- Upgraded star-ratings.js library to v4 in preparation for the "Review Themes" add-on

= 5.4.3 (2021-01-16) =

- Fixed Add-on support notice
- Fixed Migration support for PHP 8.0 Named Arguments

= 5.4.2 (2020-12-26) =

- Fixed line breaks in excerpts

= 5.4.1 (2020-12-24) =

- Fixed links in review responses to allow the "rel" attribute
- Happy Holidays! 🎄✨🍾

= 5.4.0 (2020-12-22) =

- Added the "schema_identifier" meta key which can be used to set a custom '@id' schema property with the Custom Fields metabox
- Added the "Woocommerce Reviews" add-on
- Fixed a PHP 8 error with the schema
- Fixed setting fields to use escaped HTML attributes

= 5.3.5 (2020-12-16) =

- Fixed template tag substitution in custom review templates

= 5.3.4 (2020-12-16) =

- Fixed pagination to use the saved "hide" options
- Fixed the import tool, it no longer substitutes empty review name/email fields with those of the logged in user

= 5.3.3 (2020-12-14) =

- Fixed add-on updater

= 5.3.2 (2020-12-13) =

- Added "Site Reviews Premium"
- Added "Review Forms" add-on
- Added debug logging for validation errors
- Added error logging for database table creation errors
- Added support for PHP 8
- Added the Category and Review IDs to the action row in the admin tables
- Added the {{ assigned_posts }}, {{ assigned_users }}, and {{ assigned_terms }} template tags
- Fixed block attributes
- Fixed line-breaks in review excerpts
- Fixed pagination URLs for servers that do not use REQUEST_URI
- Fixed support for older custom fields using assign_to/category as names
- Fixed the Backtrace used when logging entries to the Console
- Fixed the Console on sites that have been duplicated but still have the upload dir cached to the old path
- Improved the block options
- Improved the documentation
- Improved the System Info

= 5.2.3 (2020-11-30) =

- Fixed the PHP multibyte fallback when the iconv extension is missing

= 5.2.2 (2020-11-17) =

- Fixed shortcode examples in documentation; Copy/pasting a shortcode example into the classic editor will now paste as plain text instead of as HTML code.
- Fixed System Info details to always be in English

= 5.2.1 (2020-11-15) =

- Fixed MariaDB support (removed subqueries from the SQL)
- Fixed migration of imported settings
- Fixed the "post__in" and "post__not_in" options of the glsr_get_reviews() helper function

= 5.2.0 (2020-11-06) =

- Added Notification Template tags for assigned categories, posts, and users
- Added Review Assignment setting
- Changed review assignment in SQL queries to use strict assignments by default (it was previously using loose assignments, use the new "Review Assignment" setting to change this back)
- Changed the glsr_create_review function to log validation errors to the plugin console
- Fixed Bulk Editing of reviews that are assigned to post types or users
- Fixed Multibyte String support
- Fixed Multisite compatibility
- Fixed pagination URLs when used on the homepage
- Fixed rating validation when using a custom maximum rating value
- Fixed review limits validation for assigned reviews
- Fixed review migration of invalid 3rd-party reviews (reviews that were previously imported incorrectly)
- Fixed review name and email fallback values to use those of the logged-in user
- Fixed the submission date of reviews, it now uses the timezone offset in the WordPress settings

= 5.1.6 (2020-10-25) =

- Fixed compatibility issue with the Elementor Pro Popups
- Fixed the glsr_create_review helper function validation

= 5.1.4 (2020-10-25) =

- Fixed addons notice styling and placement
- Fixed plugin file paths on IIS Windows servers
- Fixed plugin migrations to work better with the W3 Total Cache plugin
- Fixed strict standard notices in PHP 5.6

= 5.1.0 (2020-10-24) =

- Fixed database integration with WordPress tables that still use the old MyISAM engine
- Fixed the submission date of reviews to account for the timezone
- Improved the plugin migration notice

= 5.0.3 (2020-10-23) =

- Added back the deprecated "count" option on the [site_reviews] shortcode so that it will still work for people who have not yet replaced it with the "display" option.
- Fixed a regression which prevented translations from including a link (i.e. the terms toggle)
- Fixed the terms toggle validation
- Fixed the trustalyze add-on link

= 5.0.0 (2020-10-22) =

- Added "Delete data on uninstall" option to selectively delete plugin data when removing the plugin
- Added "Send Emails From" option to send notifications from a custom email address
- Added a loading="lazy" attribute to avatar images
- Added a new Review Details metabox which allows you to modify review values
- Added a tool to import 3rd-party reviews
- Added a tool to test IP address detection
- Added assigned_posts shortcode option, this replaces the "assign_to" and "assigned_to" options and allows you to assign reviews to multiple Post IDs
- Added assigned_terms shortcode option, this replaces the "category" option and allows you to assign reviews to multiple Categories
- Added assigned_users shortcode option, this allows you to assign reviews to multiple User IDs
- Added [suggested privacy policy content](https://wordpress.org/support/article/wordpress-privacy/#privacy-policy-editing-helper)
- Added the submitted review to the "site-reviews/after/submission" javascript event
- Added [WordPress Personal Data Eraser](https://wordpress.org/support/article/wordpress-privacy/#erase-personal-data-tool) integration
- Added [WordPress Personal Data Exporter](https://wordpress.org/support/article/wordpress-privacy/#export-personal-data-tool) integration
- Added [WordPress Revision](https://wordpress.org/support/article/revisions/) integration
- Changed the assigned_to hide option to assigned_links (i.e. [site_reviews hide="assigned_links"])
- Changed the minimum PHP version to 5.6.20
- Changed the minimum WordPress version to 5.5
- Changed the review limit validation to perform strict checking for assigned posts, categories and users (AND instead of OR)
- Changed the settings to use the WordPress "Disallowed Comment Keys" option by default
- Changed the "site-reviews/rating/average" filter hook argument order (see the Upgrade Guide on the Site Reviews welcome page)
- Fixed compatibility with the Divi theme and Divi Builder plugin
- Fixed compatibility with the Elementor Pro plugin popups
- Fixed compatibility with the GeneratePress Premium plugin
- Fixed compatibility with the Hummingbird Performance plugin
- Fixed compatibility with the Members plugin
- Fixed compatibility with the WP-Optimize plugin
- Fixed compatibility with the WP Super Cache plugin
- Fixed the review summary bars in IE11
- Fixed Welcome page permissions
- Improved console logging
- Improved documentation
- Improved plugin performance with thousands of reviews
- Improved the blocks to visually match the WordPress 5.5 editor style
- Improved the Terms checkbox in the review form to align correctly with the text
- Improved translation settings
- Refreshed the stars SVG images
- Removed the deprecated "count" option from the [site_reviews] ahortcode (use the "display" option instead).
- Removed the "site-reviews/config/forms/submission-form" filter hook (see the Upgrade Guide on the Welcome page)
- Removed the "site-reviews/reviews/reviews-wrapper" filter hook (see the Upgrade Guide on the Welcome page)
- Removed the "site-reviews/submission-form/order" filter hook (see the Upgrade Guide on the Welcome page)
- Removed the glsr_calculate_ratings() helper function
- Removed the Trustalyze integration, it is now an add-on
- Removed tool to calculate rating counts (no longer needed)
- Renamed the glsr_get_rating() helper function to glsr_get_ratings()
- Replaced the assign_to and assigned_to shortcode options with the assigned_posts option
- Replaced the category shortcode option with "assigned_terms" option
- Site Reviews now uses custom database tables, however you may still use the WordPress Export/Import tools as before
- The Translations Settings search results are now restricted to public text that is actually shown on your website, if you would like to change plugin text shown in the WordPress admin, you should use the Loco Translate plugin instead
